<ion-view name="tab-messages" view-title="Messages">
    <ion-content class="padding has-header messages-content" has-bouncing>
        <div class="messages-container">
            <div ng-repeat="message in messages" ng-class="{other: message.SenderId !== senderId}" class="messages">
                <div class="message">
                    <span ng-if="message.SenderId === senderId"><small>{{ message.SenderUserName }} | {{ message.Timestamp | date: "HH:mma"}}</small><br>{{ message.Content }}</span>
                    <span ng-if="message.SenderId !== senderId"><small>You | {{ message.Timestamp | date: "HH:mma"}}</small><br>{{ message.Content }}</span>
                </div>
            </div>
        </div>
    </ion-content>
    <div class="bar bar-footer send-message-bar">
            <div class="item item-input-inset send-message">
                <label class="item-input-wrapper">
                    <input type="text" placeholder="Type your message here" on-return="sendMessage(); closeKeyboard()" ng-model="message" on-focus="inputUp()" on-blur="inputDown()" required>
                </label>
                <a ng-click="sendMessage(message)" ng-if="message">
                    <i class="material-icons">send</i>
                </a>
                <a ng-if="!message">
                    <i class="material-icons disabled">send</i>
                </a>
            </div>
    </div>
</ion-view>
